package com.cattsoft.tm.component.dao.oracleImpl;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import java.util.List;import java.util.ArrayList;import org.apache.log4j.Logger;import com.cattsoft.pub.connection.ConnectionFactory;import com.cattsoft.tm.component.dao.IWoSDAO;import com.cattsoft.tm.vo.WoSVO;import com.cattsoft.pub.util.JdbcUtil;import com.cattsoft.pub.dao.Sql;import com.cattsoft.pub.exception.AppException;import com.cattsoft.pub.exception.SysException;import com.cattsoft.pub.vo.GenericVO;import com.cattsoft.pub.util.StringUtil; /**   * 方法WoSDAOImpl   * <p>Company: 大唐软件</p>   * @author ：白小亮。   * @version 1.1  2007-9-23  */public class WoSDAOImpl implements IWoSDAO{    private static Logger log = Logger.getLogger(WoSDAOImpl.class);    private static final String UNABLE_STS = "P";  /**   * 增加。   * @return String  */ public void add(GenericVO vo)throws AppException, SysException {         if (vo== null) {         throw new AppException("100001", "缺少DAO操作对象！");        }     WoSVO wo=(WoSVO) vo;    if (StringUtil.isBlank(wo.getWoNbr())) {       throw new AppException("100002", "缺少对象的主键！");      }      Connection conn = null;      PreparedStatement ps = null;Sql sql = new Sql("INSERT INTO WO(ACC_NBR,ACT_TYPE,ADDR_AREA_ID,ADDR_LOCAL_NET_ID,ALARM_DATE,AREA_ID,AR_FLAG,ASGN_DATE,AZ_FLAG,BOOKED_FLAG,BOOK_FLAG,BRANCH_ID,BUSI_STS,BUSI_STS_DATE,COLLAB_WO_NBR,COMPL_DATE,DEAL_FLAG,DO_TIME,DYN_FLAG,EXCH_ID,FAIL_REASON_ID,FULL_FLAG,HALT,HALT_DATE,LOCAL_NET_ID,MAINT_AREA_ID,MAIN_FLAG,MERG_FLAG,MT_AREA_NAME,NOTIFY_FLAG,N_WO_NBR,OVERTIME_ID,PRE_ALARM_DATE,PRINT_COUNT,PRIORITY,REASGN_COUNT,RELA_WO_NBR,REMARKS,RT_STAFF_ID,RT_STAFF_NAME,RUN_STS,RUN_STS_DATE,SERV_DEPT_ID,SERV_INST_ID,SO_NBR,STEP_ID,WORK_AREA_ID,WORK_ITEM_ID,WORK_MODE,WO_NBR,WO_STAFF_ID,WO_STAFF_NAME,WO_TYPE)");sql.append(" VALUES (:accNbr,:actType,:addrAreaId,:addrLocalNetId,:alarmDate,:areaId,:arFlag,:asgnDate,:azFlag,:bookedFlag,:bookFlag,:branchId,:busiSts,:busiStsDate,:collabWoNbr,:complDate,:dealFlag,:doTime,:dynFlag,:exchId,:failReasonId,:fullFlag,:halt,:haltDate,:localNetId,:maintAreaId,:mainFlag,:mergFlag,:mtAreaName,:notifyFlag,:nWoNbr,:overtimeId,:preAlarmDate,:printCount,:priority,:reasgnCount,:relaWoNbr,:remarks,:rtStaffId,:rtStaffName,:runSts,:runStsDate,:servDeptId,:servInstId,:soNbr,:stepId,:workAreaId,:workItemId,:workMode,:woNbr,:woStaffId,:woStaffName,:woType)");      try {           conn = ConnectionFactory.getConnection();           ps = conn.prepareStatement(sql.getSql());      if (StringUtil.isBlank(wo.getAccNbr())) {      sql.setNullString("accNbr");     } else {    sql.setString("accNbr", wo.getAccNbr());    }       if (StringUtil.isBlank(wo.getActType())) {      sql.setNullString("actType");     } else {    sql.setString("actType", wo.getActType());    }       if (StringUtil.isBlank(wo.getAddrAreaId())) {      sql.setNullLong("addrAreaId");     } else {    sql.setLong("addrAreaId", wo.getAddrAreaId());    }       if (StringUtil.isBlank(wo.getAddrLocalNetId())) {      sql.setNullLong("addrLocalNetId");     } else {    sql.setLong("addrLocalNetId", wo.getAddrLocalNetId());    }    if (wo.getAlarmDate() == null) {      sql.setNullDate("alarmDate");     } else {    sql.setTimestamp("alarmDate", wo.getAlarmDate());    }       if (StringUtil.isBlank(wo.getAreaId())) {      sql.setNullLong("areaId");     } else {    sql.setLong("areaId", wo.getAreaId());    }       if (StringUtil.isBlank(wo.getArFlag())) {      sql.setNullString("arFlag");     } else {    sql.setString("arFlag", wo.getArFlag());    }    if (wo.getAsgnDate() == null) {      sql.setNullDate("asgnDate");     } else {    sql.setTimestamp("asgnDate", wo.getAsgnDate());    }       if (StringUtil.isBlank(wo.getAzFlag())) {      sql.setNullString("azFlag");     } else {    sql.setString("azFlag", wo.getAzFlag());    }       if (StringUtil.isBlank(wo.getBookedFlag())) {      sql.setNullString("bookedFlag");     } else {    sql.setString("bookedFlag", wo.getBookedFlag());    }       if (StringUtil.isBlank(wo.getBookFlag())) {      sql.setNullString("bookFlag");     } else {    sql.setString("bookFlag", wo.getBookFlag());    }       if (StringUtil.isBlank(wo.getBranchId())) {      sql.setNullLong("branchId");     } else {    sql.setLong("branchId", wo.getBranchId());    }       if (StringUtil.isBlank(wo.getBusiSts())) {      sql.setNullString("busiSts");     } else {    sql.setString("busiSts", wo.getBusiSts());    }    if (wo.getBusiStsDate() == null) {      sql.setNullDate("busiStsDate");     } else {    sql.setTimestamp("busiStsDate", wo.getBusiStsDate());    }       if (StringUtil.isBlank(wo.getCollabWoNbr())) {      sql.setNullLong("collabWoNbr");     } else {    sql.setLong("collabWoNbr", wo.getCollabWoNbr());    }    if (wo.getComplDate() == null) {      sql.setNullDate("complDate");     } else {    sql.setTimestamp("complDate", wo.getComplDate());    }       if (StringUtil.isBlank(wo.getDealFlag())) {      sql.setNullString("dealFlag");     } else {    sql.setString("dealFlag", wo.getDealFlag());    }       if (StringUtil.isBlank(wo.getDoTime())) {      sql.setNullLong("doTime");     } else {    sql.setLong("doTime", wo.getDoTime());    }       if (StringUtil.isBlank(wo.getDynFlag())) {      sql.setNullString("dynFlag");     } else {    sql.setString("dynFlag", wo.getDynFlag());    }       if (StringUtil.isBlank(wo.getExchId())) {      sql.setNullLong("exchId");     } else {    sql.setLong("exchId", wo.getExchId());    }       if (StringUtil.isBlank(wo.getFailReasonId())) {      sql.setNullString("failReasonId");     } else {    sql.setString("failReasonId", wo.getFailReasonId());    }       if (StringUtil.isBlank(wo.getFullFlag())) {      sql.setNullString("fullFlag");     } else {    sql.setString("fullFlag", wo.getFullFlag());    }       if (StringUtil.isBlank(wo.getHalt())) {      sql.setNullString("halt");     } else {    sql.setString("halt", wo.getHalt());    }    if (wo.getHaltDate() == null) {      sql.setNullDate("haltDate");     } else {    sql.setTimestamp("haltDate", wo.getHaltDate());    }       if (StringUtil.isBlank(wo.getLocalNetId())) {      sql.setNullLong("localNetId");     } else {    sql.setLong("localNetId", wo.getLocalNetId());    }       if (StringUtil.isBlank(wo.getMaintAreaId())) {      sql.setNullLong("maintAreaId");     } else {    sql.setLong("maintAreaId", wo.getMaintAreaId());    }       if (StringUtil.isBlank(wo.getMainFlag())) {      sql.setNullString("mainFlag");     } else {    sql.setString("mainFlag", wo.getMainFlag());    }       if (StringUtil.isBlank(wo.getMergFlag())) {      sql.setNullString("mergFlag");     } else {    sql.setString("mergFlag", wo.getMergFlag());    }       if (StringUtil.isBlank(wo.getMtAreaName())) {      sql.setNullString("mtAreaName");     } else {    sql.setString("mtAreaName", wo.getMtAreaName());    }       if (StringUtil.isBlank(wo.getNotifyFlag())) {      sql.setNullString("notifyFlag");     } else {    sql.setString("notifyFlag", wo.getNotifyFlag());    }       if (StringUtil.isBlank(wo.getNWoNbr())) {      sql.setNullString("nWoNbr");     } else {    sql.setString("nWoNbr", wo.getNWoNbr());    }       if (StringUtil.isBlank(wo.getOvertimeId())) {      sql.setNullString("overtimeId");     } else {    sql.setString("overtimeId", wo.getOvertimeId());    }    if (wo.getPreAlarmDate() == null) {      sql.setNullDate("preAlarmDate");     } else {    sql.setTimestamp("preAlarmDate", wo.getPreAlarmDate());    }       if (StringUtil.isBlank(wo.getPrintCount())) {      sql.setNullLong("printCount");     } else {    sql.setLong("printCount", wo.getPrintCount());    }       if (StringUtil.isBlank(wo.getPriority())) {      sql.setNullString("priority");     } else {    sql.setString("priority", wo.getPriority());    }       if (StringUtil.isBlank(wo.getReasgnCount())) {      sql.setNullLong("reasgnCount");     } else {    sql.setLong("reasgnCount", wo.getReasgnCount());    }       if (StringUtil.isBlank(wo.getRelaWoNbr())) {      sql.setNullLong("relaWoNbr");     } else {    sql.setLong("relaWoNbr", wo.getRelaWoNbr());    }       if (StringUtil.isBlank(wo.getRemarks())) {      sql.setNullString("remarks");     } else {    sql.setString("remarks", wo.getRemarks());    }       if (StringUtil.isBlank(wo.getRtStaffId())) {      sql.setNullLong("rtStaffId");     } else {    sql.setLong("rtStaffId", wo.getRtStaffId());    }       if (StringUtil.isBlank(wo.getRtStaffName())) {      sql.setNullString("rtStaffName");     } else {    sql.setString("rtStaffName", wo.getRtStaffName());    }       if (StringUtil.isBlank(wo.getRunSts())) {      sql.setNullString("runSts");     } else {    sql.setString("runSts", wo.getRunSts());    }    if (wo.getRunStsDate() == null) {      sql.setNullDate("runStsDate");     } else {    sql.setTimestamp("runStsDate", wo.getRunStsDate());    }       if (StringUtil.isBlank(wo.getServDeptId())) {      sql.setNullLong("servDeptId");     } else {    sql.setLong("servDeptId", wo.getServDeptId());    }       if (StringUtil.isBlank(wo.getServInstId())) {      sql.setNullLong("servInstId");     } else {    sql.setLong("servInstId", wo.getServInstId());    }       if (StringUtil.isBlank(wo.getSoNbr())) {      sql.setNullString("soNbr");     } else {    sql.setString("soNbr", wo.getSoNbr());    }       if (StringUtil.isBlank(wo.getStepId())) {      sql.setNullString("stepId");     } else {    sql.setString("stepId", wo.getStepId());    }       if (StringUtil.isBlank(wo.getWorkAreaId())) {      sql.setNullLong("workAreaId");     } else {    sql.setLong("workAreaId", wo.getWorkAreaId());    }       if (StringUtil.isBlank(wo.getWorkItemId())) {      sql.setNullLong("workItemId");     } else {    sql.setLong("workItemId", wo.getWorkItemId());    }       if (StringUtil.isBlank(wo.getWorkMode())) {      sql.setNullString("workMode");     } else {    sql.setString("workMode", wo.getWorkMode());    }       if (StringUtil.isBlank(wo.getWoNbr())) {      sql.setNullLong("woNbr");     } else {    sql.setLong("woNbr", wo.getWoNbr());    }       if (StringUtil.isBlank(wo.getWoStaffId())) {      sql.setNullLong("woStaffId");     } else {    sql.setLong("woStaffId", wo.getWoStaffId());    }       if (StringUtil.isBlank(wo.getWoStaffName())) {      sql.setNullString("woStaffName");     } else {    sql.setString("woStaffName", wo.getWoStaffName());    }       if (StringUtil.isBlank(wo.getWoType())) {      sql.setNullString("woType");     } else {    sql.setString("woType", wo.getWoType());    }            sql.fillParams(ps);           sql.log(this.getClass());           ps.executeUpdate();          } catch (SQLException se) {           throw new SysException("100003", "JDBC操作异常！", se);           } finally {                    JdbcUtil.close(ps);           }  } /**   * 主键查询的SQL。   * @return String ： 主键查询的SQL。  */ public GenericVO findByPK(GenericVO vo)throws AppException, SysException {         if (vo== null) {         throw new AppException("100001", "缺少DAO操作对象！");        }     WoSVO wo=(WoSVO) vo;    if (StringUtil.isBlank(wo.getWoNbr())) {       throw new AppException("100002", "缺少对象的主键！");      }       Sql sql = new Sql("SELECT ACC_NBR,ACT_TYPE,ADDR_AREA_ID,ADDR_LOCAL_NET_ID,ALARM_DATE,AREA_ID,AR_FLAG,ASGN_DATE,AZ_FLAG,BOOKED_FLAG,BOOK_FLAG,BRANCH_ID,BUSI_STS,BUSI_STS_DATE,COLLAB_WO_NBR,COMPL_DATE,DEAL_FLAG,DO_TIME,DYN_FLAG,EXCH_ID,FAIL_REASON_ID,FULL_FLAG,HALT,HALT_DATE,LOCAL_NET_ID,MAINT_AREA_ID,MAIN_FLAG,MERG_FLAG,MT_AREA_NAME,NOTIFY_FLAG,N_WO_NBR,OVERTIME_ID,PRE_ALARM_DATE,PRINT_COUNT,PRIORITY,REASGN_COUNT,RELA_WO_NBR,REMARKS,RT_STAFF_ID,RT_STAFF_NAME,RUN_STS,RUN_STS_DATE,SERV_DEPT_ID,SERV_INST_ID,SO_NBR,STEP_ID,WORK_AREA_ID,WORK_ITEM_ID,WORK_MODE,WO_NBR,WO_STAFF_ID,WO_STAFF_NAME,WO_TYPE FROM WO WHERE 1=1  ");sql.append(" and WO_NBR=:woNbr");sql.setLong("woNbr", wo.getWoNbr());       Connection conn = null;      PreparedStatement ps = null;      ResultSet rs = null;      wo =null;      try {           conn = ConnectionFactory.getConnection();           ps = conn.prepareStatement(sql.getSql());           sql.fillParams(ps);           sql.log(this.getClass());           rs = ps.executeQuery();            while (rs.next()) {           wo = new WoSVO();           wo.setAccNbr(rs.getString("ACC_NBR"));           wo.setActType(rs.getString("ACT_TYPE"));           wo.setAddrAreaId(rs.getString("ADDR_AREA_ID"));           wo.setAddrLocalNetId(rs.getString("ADDR_LOCAL_NET_ID"));           wo.setAlarmDate(rs.getTimestamp("ALARM_DATE"));           wo.setAreaId(rs.getString("AREA_ID"));           wo.setArFlag(rs.getString("AR_FLAG"));           wo.setAsgnDate(rs.getTimestamp("ASGN_DATE"));           wo.setAzFlag(rs.getString("AZ_FLAG"));           wo.setBookedFlag(rs.getString("BOOKED_FLAG"));           wo.setBookFlag(rs.getString("BOOK_FLAG"));           wo.setBranchId(rs.getString("BRANCH_ID"));           wo.setBusiSts(rs.getString("BUSI_STS"));           wo.setBusiStsDate(rs.getTimestamp("BUSI_STS_DATE"));           wo.setCollabWoNbr(rs.getString("COLLAB_WO_NBR"));           wo.setComplDate(rs.getTimestamp("COMPL_DATE"));           wo.setDealFlag(rs.getString("DEAL_FLAG"));           wo.setDoTime(rs.getString("DO_TIME"));           wo.setDynFlag(rs.getString("DYN_FLAG"));           wo.setExchId(rs.getString("EXCH_ID"));           wo.setFailReasonId(rs.getString("FAIL_REASON_ID"));           wo.setFullFlag(rs.getString("FULL_FLAG"));           wo.setHalt(rs.getString("HALT"));           wo.setHaltDate(rs.getTimestamp("HALT_DATE"));           wo.setLocalNetId(rs.getString("LOCAL_NET_ID"));           wo.setMaintAreaId(rs.getString("MAINT_AREA_ID"));           wo.setMainFlag(rs.getString("MAIN_FLAG"));           wo.setMergFlag(rs.getString("MERG_FLAG"));           wo.setMtAreaName(rs.getString("MT_AREA_NAME"));           wo.setNotifyFlag(rs.getString("NOTIFY_FLAG"));           wo.setNWoNbr(rs.getString("N_WO_NBR"));           wo.setOvertimeId(rs.getString("OVERTIME_ID"));           wo.setPreAlarmDate(rs.getTimestamp("PRE_ALARM_DATE"));           wo.setPrintCount(rs.getString("PRINT_COUNT"));           wo.setPriority(rs.getString("PRIORITY"));           wo.setReasgnCount(rs.getString("REASGN_COUNT"));           wo.setRelaWoNbr(rs.getString("RELA_WO_NBR"));           wo.setRemarks(rs.getString("REMARKS"));           wo.setRtStaffId(rs.getString("RT_STAFF_ID"));           wo.setRtStaffName(rs.getString("RT_STAFF_NAME"));           wo.setRunSts(rs.getString("RUN_STS"));           wo.setRunStsDate(rs.getTimestamp("RUN_STS_DATE"));           wo.setServDeptId(rs.getString("SERV_DEPT_ID"));           wo.setServInstId(rs.getString("SERV_INST_ID"));           wo.setSoNbr(rs.getString("SO_NBR"));           wo.setStepId(rs.getString("STEP_ID"));           wo.setWorkAreaId(rs.getString("WORK_AREA_ID"));           wo.setWorkItemId(rs.getString("WORK_ITEM_ID"));           wo.setWorkMode(rs.getString("WORK_MODE"));           wo.setWoNbr(rs.getString("WO_NBR"));           wo.setWoStaffId(rs.getString("WO_STAFF_ID"));           wo.setWoStaffName(rs.getString("WO_STAFF_NAME"));           wo.setWoType(rs.getString("WO_TYPE"));                 }           } catch (SQLException se) {             throw new SysException("100003", "JDBC操作异常！", se);                      } finally {                    JdbcUtil.close(rs,ps);           }           return wo;         } /**   * 批量查询的SQL。   * @return String ： 批量查询的SQL。  */ public List findByVO(GenericVO vo) throws AppException, SysException{         if (vo== null) {         throw new AppException("100001", "缺少DAO操作对象！");        }       WoSVO wo=(WoSVO) vo;          List res = new ArrayList();          Connection conn = null;          PreparedStatement ps = null;          ResultSet rs = null;          Sql sql = new Sql("SELECT ACC_NBR,ACT_TYPE,ADDR_AREA_ID,ADDR_LOCAL_NET_ID,ALARM_DATE,AREA_ID,AR_FLAG,ASGN_DATE,AZ_FLAG,BOOKED_FLAG,BOOK_FLAG,BRANCH_ID,BUSI_STS,BUSI_STS_DATE,COLLAB_WO_NBR,COMPL_DATE,DEAL_FLAG,DO_TIME,DYN_FLAG,EXCH_ID,FAIL_REASON_ID,FULL_FLAG,HALT,HALT_DATE,LOCAL_NET_ID,MAINT_AREA_ID,MAIN_FLAG,MERG_FLAG,MT_AREA_NAME,NOTIFY_FLAG,N_WO_NBR,OVERTIME_ID,PRE_ALARM_DATE,PRINT_COUNT,PRIORITY,REASGN_COUNT,RELA_WO_NBR,REMARKS,RT_STAFF_ID,RT_STAFF_NAME,RUN_STS,RUN_STS_DATE,SERV_DEPT_ID,SERV_INST_ID,SO_NBR,STEP_ID,WORK_AREA_ID,WORK_ITEM_ID,WORK_MODE,WO_NBR,WO_STAFF_ID,WO_STAFF_NAME,WO_TYPE FROM WO WHERE 1=1 ");     try {if (wo.getFlagAccNbr() == 1) {      if (StringUtil.isBlank(wo.getAccNbr())) {             sql.append(" and ACC_NBR is null ");          }      else{             sql.append(" and ACC_NBR=:accNbr");             sql.setString("accNbr", wo.getAccNbr());          }   } if (wo.getFlagActType() == 1) {      if (StringUtil.isBlank(wo.getActType())) {             sql.append(" and ACT_TYPE is null ");          }      else{             sql.append(" and ACT_TYPE=:actType");             sql.setString("actType", wo.getActType());          }   } if (wo.getFlagAddrAreaId() == 1) {      if (StringUtil.isBlank(wo.getAddrAreaId())) {             sql.append(" and ADDR_AREA_ID is null ");          }      else{             sql.append(" and ADDR_AREA_ID=:addrAreaId");             sql.setLong("addrAreaId", wo.getAddrAreaId());          }   } if (wo.getFlagAddrLocalNetId() == 1) {      if (StringUtil.isBlank(wo.getAddrLocalNetId())) {             sql.append(" and ADDR_LOCAL_NET_ID is null ");          }      else{             sql.append(" and ADDR_LOCAL_NET_ID=:addrLocalNetId");             sql.setLong("addrLocalNetId", wo.getAddrLocalNetId());          }   } if (wo.getFlagAlarmDate() == 1) {      if (wo.getAlarmDate() == null) {             sql.append(" and ALARM_DATE is null ");          }      else{             sql.append(" and ALARM_DATE=:alarmDate");             sql.setTimestamp("alarmDate", wo.getAlarmDate());          }   } if (wo.getFlagAreaId() == 1) {      if (StringUtil.isBlank(wo.getAreaId())) {             sql.append(" and AREA_ID is null ");          }      else{             sql.append(" and AREA_ID=:areaId");             sql.setLong("areaId", wo.getAreaId());          }   } if (wo.getFlagArFlag() == 1) {      if (StringUtil.isBlank(wo.getArFlag())) {             sql.append(" and AR_FLAG is null ");          }      else{             sql.append(" and AR_FLAG=:arFlag");             sql.setString("arFlag", wo.getArFlag());          }   } if (wo.getFlagAsgnDate() == 1) {      if (wo.getAsgnDate() == null) {             sql.append(" and ASGN_DATE is null ");          }      else{             sql.append(" and ASGN_DATE=:asgnDate");             sql.setTimestamp("asgnDate", wo.getAsgnDate());          }   } if (wo.getFlagAzFlag() == 1) {      if (StringUtil.isBlank(wo.getAzFlag())) {             sql.append(" and AZ_FLAG is null ");          }      else{             sql.append(" and AZ_FLAG=:azFlag");             sql.setString("azFlag", wo.getAzFlag());          }   } if (wo.getFlagBookedFlag() == 1) {      if (StringUtil.isBlank(wo.getBookedFlag())) {             sql.append(" and BOOKED_FLAG is null ");          }      else{             sql.append(" and BOOKED_FLAG=:bookedFlag");             sql.setString("bookedFlag", wo.getBookedFlag());          }   } if (wo.getFlagBookFlag() == 1) {      if (StringUtil.isBlank(wo.getBookFlag())) {             sql.append(" and BOOK_FLAG is null ");          }      else{             sql.append(" and BOOK_FLAG=:bookFlag");             sql.setString("bookFlag", wo.getBookFlag());          }   } if (wo.getFlagBranchId() == 1) {      if (StringUtil.isBlank(wo.getBranchId())) {             sql.append(" and BRANCH_ID is null ");          }      else{             sql.append(" and BRANCH_ID=:branchId");             sql.setLong("branchId", wo.getBranchId());          }   } if (wo.getFlagBusiSts() == 1) {      if (StringUtil.isBlank(wo.getBusiSts())) {             sql.append(" and BUSI_STS is null ");          }      else{             sql.append(" and BUSI_STS=:busiSts");             sql.setString("busiSts", wo.getBusiSts());          }   } if (wo.getFlagBusiStsDate() == 1) {      if (wo.getBusiStsDate() == null) {             sql.append(" and BUSI_STS_DATE is null ");          }      else{             sql.append(" and BUSI_STS_DATE=:busiStsDate");             sql.setTimestamp("busiStsDate", wo.getBusiStsDate());          }   } if (wo.getFlagCollabWoNbr() == 1) {      if (StringUtil.isBlank(wo.getCollabWoNbr())) {             sql.append(" and COLLAB_WO_NBR is null ");          }      else{             sql.append(" and COLLAB_WO_NBR=:collabWoNbr");             sql.setLong("collabWoNbr", wo.getCollabWoNbr());          }   } if (wo.getFlagComplDate() == 1) {      if (wo.getComplDate() == null) {             sql.append(" and COMPL_DATE is null ");          }      else{             sql.append(" and COMPL_DATE=:complDate");             sql.setTimestamp("complDate", wo.getComplDate());          }   } if (wo.getFlagDealFlag() == 1) {      if (StringUtil.isBlank(wo.getDealFlag())) {             sql.append(" and DEAL_FLAG is null ");          }      else{             sql.append(" and DEAL_FLAG=:dealFlag");             sql.setString("dealFlag", wo.getDealFlag());          }   } if (wo.getFlagDoTime() == 1) {      if (StringUtil.isBlank(wo.getDoTime())) {             sql.append(" and DO_TIME is null ");          }      else{             sql.append(" and DO_TIME=:doTime");             sql.setLong("doTime", wo.getDoTime());          }   } if (wo.getFlagDynFlag() == 1) {      if (StringUtil.isBlank(wo.getDynFlag())) {             sql.append(" and DYN_FLAG is null ");          }      else{             sql.append(" and DYN_FLAG=:dynFlag");             sql.setString("dynFlag", wo.getDynFlag());          }   } if (wo.getFlagExchId() == 1) {      if (StringUtil.isBlank(wo.getExchId())) {             sql.append(" and EXCH_ID is null ");          }      else{             sql.append(" and EXCH_ID=:exchId");             sql.setLong("exchId", wo.getExchId());          }   } if (wo.getFlagFailReasonId() == 1) {      if (StringUtil.isBlank(wo.getFailReasonId())) {             sql.append(" and FAIL_REASON_ID is null ");          }      else{             sql.append(" and FAIL_REASON_ID=:failReasonId");             sql.setString("failReasonId", wo.getFailReasonId());          }   } if (wo.getFlagFullFlag() == 1) {      if (StringUtil.isBlank(wo.getFullFlag())) {             sql.append(" and FULL_FLAG is null ");          }      else{             sql.append(" and FULL_FLAG=:fullFlag");             sql.setString("fullFlag", wo.getFullFlag());          }   } if (wo.getFlagHalt() == 1) {      if (StringUtil.isBlank(wo.getHalt())) {             sql.append(" and HALT is null ");          }      else{             sql.append(" and HALT=:halt");             sql.setString("halt", wo.getHalt());          }   } if (wo.getFlagHaltDate() == 1) {      if (wo.getHaltDate() == null) {             sql.append(" and HALT_DATE is null ");          }      else{             sql.append(" and HALT_DATE=:haltDate");             sql.setTimestamp("haltDate", wo.getHaltDate());          }   } if (wo.getFlagLocalNetId() == 1) {      if (StringUtil.isBlank(wo.getLocalNetId())) {             sql.append(" and LOCAL_NET_ID is null ");          }      else{             sql.append(" and LOCAL_NET_ID=:localNetId");             sql.setLong("localNetId", wo.getLocalNetId());          }   } if (wo.getFlagMaintAreaId() == 1) {      if (StringUtil.isBlank(wo.getMaintAreaId())) {             sql.append(" and MAINT_AREA_ID is null ");          }      else{             sql.append(" and MAINT_AREA_ID=:maintAreaId");             sql.setLong("maintAreaId", wo.getMaintAreaId());          }   } if (wo.getFlagMainFlag() == 1) {      if (StringUtil.isBlank(wo.getMainFlag())) {             sql.append(" and MAIN_FLAG is null ");          }      else{             sql.append(" and MAIN_FLAG=:mainFlag");             sql.setString("mainFlag", wo.getMainFlag());          }   } if (wo.getFlagMergFlag() == 1) {      if (StringUtil.isBlank(wo.getMergFlag())) {             sql.append(" and MERG_FLAG is null ");          }      else{             sql.append(" and MERG_FLAG=:mergFlag");             sql.setString("mergFlag", wo.getMergFlag());          }   } if (wo.getFlagMtAreaName() == 1) {      if (StringUtil.isBlank(wo.getMtAreaName())) {             sql.append(" and MT_AREA_NAME is null ");          }      else{             sql.append(" and MT_AREA_NAME=:mtAreaName");             sql.setString("mtAreaName", wo.getMtAreaName());          }   } if (wo.getFlagNotifyFlag() == 1) {      if (StringUtil.isBlank(wo.getNotifyFlag())) {             sql.append(" and NOTIFY_FLAG is null ");          }      else{             sql.append(" and NOTIFY_FLAG=:notifyFlag");             sql.setString("notifyFlag", wo.getNotifyFlag());          }   } if (wo.getFlagNWoNbr() == 1) {      if (StringUtil.isBlank(wo.getNWoNbr())) {             sql.append(" and N_WO_NBR is null ");          }      else{             sql.append(" and N_WO_NBR=:nWoNbr");             sql.setString("nWoNbr", wo.getNWoNbr());          }   } if (wo.getFlagOvertimeId() == 1) {      if (StringUtil.isBlank(wo.getOvertimeId())) {             sql.append(" and OVERTIME_ID is null ");          }      else{             sql.append(" and OVERTIME_ID=:overtimeId");             sql.setString("overtimeId", wo.getOvertimeId());          }   } if (wo.getFlagPreAlarmDate() == 1) {      if (wo.getPreAlarmDate() == null) {             sql.append(" and PRE_ALARM_DATE is null ");          }      else{             sql.append(" and PRE_ALARM_DATE=:preAlarmDate");             sql.setTimestamp("preAlarmDate", wo.getPreAlarmDate());          }   } if (wo.getFlagPrintCount() == 1) {      if (StringUtil.isBlank(wo.getPrintCount())) {             sql.append(" and PRINT_COUNT is null ");          }      else{             sql.append(" and PRINT_COUNT=:printCount");             sql.setLong("printCount", wo.getPrintCount());          }   } if (wo.getFlagPriority() == 1) {      if (StringUtil.isBlank(wo.getPriority())) {             sql.append(" and PRIORITY is null ");          }      else{             sql.append(" and PRIORITY=:priority");             sql.setString("priority", wo.getPriority());          }   } if (wo.getFlagReasgnCount() == 1) {      if (StringUtil.isBlank(wo.getReasgnCount())) {             sql.append(" and REASGN_COUNT is null ");          }      else{             sql.append(" and REASGN_COUNT=:reasgnCount");             sql.setLong("reasgnCount", wo.getReasgnCount());          }   } if (wo.getFlagRelaWoNbr() == 1) {      if (StringUtil.isBlank(wo.getRelaWoNbr())) {             sql.append(" and RELA_WO_NBR is null ");          }      else{             sql.append(" and RELA_WO_NBR=:relaWoNbr");             sql.setLong("relaWoNbr", wo.getRelaWoNbr());          }   } if (wo.getFlagRemarks() == 1) {      if (StringUtil.isBlank(wo.getRemarks())) {             sql.append(" and REMARKS is null ");          }      else{             sql.append(" and REMARKS=:remarks");             sql.setString("remarks", wo.getRemarks());          }   } if (wo.getFlagRtStaffId() == 1) {      if (StringUtil.isBlank(wo.getRtStaffId())) {             sql.append(" and RT_STAFF_ID is null ");          }      else{             sql.append(" and RT_STAFF_ID=:rtStaffId");             sql.setLong("rtStaffId", wo.getRtStaffId());          }   } if (wo.getFlagRtStaffName() == 1) {      if (StringUtil.isBlank(wo.getRtStaffName())) {             sql.append(" and RT_STAFF_NAME is null ");          }      else{             sql.append(" and RT_STAFF_NAME=:rtStaffName");             sql.setString("rtStaffName", wo.getRtStaffName());          }   } if (wo.getFlagRunSts() == 1) {      if (StringUtil.isBlank(wo.getRunSts())) {             sql.append(" and RUN_STS is null ");          }      else{             sql.append(" and RUN_STS=:runSts");             sql.setString("runSts", wo.getRunSts());          }   } if (wo.getFlagRunStsDate() == 1) {      if (wo.getRunStsDate() == null) {             sql.append(" and RUN_STS_DATE is null ");          }      else{             sql.append(" and RUN_STS_DATE=:runStsDate");             sql.setTimestamp("runStsDate", wo.getRunStsDate());          }   } if (wo.getFlagServDeptId() == 1) {      if (StringUtil.isBlank(wo.getServDeptId())) {             sql.append(" and SERV_DEPT_ID is null ");          }      else{             sql.append(" and SERV_DEPT_ID=:servDeptId");             sql.setLong("servDeptId", wo.getServDeptId());          }   } if (wo.getFlagServInstId() == 1) {      if (StringUtil.isBlank(wo.getServInstId())) {             sql.append(" and SERV_INST_ID is null ");          }      else{             sql.append(" and SERV_INST_ID=:servInstId");             sql.setLong("servInstId", wo.getServInstId());          }   } if (wo.getFlagSoNbr() == 1) {      if (StringUtil.isBlank(wo.getSoNbr())) {             sql.append(" and SO_NBR is null ");          }      else{             sql.append(" and SO_NBR=:soNbr");             sql.setString("soNbr", wo.getSoNbr());          }   } if (wo.getFlagStepId() == 1) {      if (StringUtil.isBlank(wo.getStepId())) {             sql.append(" and STEP_ID is null ");          }      else{             sql.append(" and STEP_ID=:stepId");             sql.setString("stepId", wo.getStepId());          }   } if (wo.getFlagWorkAreaId() == 1) {      if (StringUtil.isBlank(wo.getWorkAreaId())) {             sql.append(" and WORK_AREA_ID is null ");          }      else{             sql.append(" and WORK_AREA_ID=:workAreaId");             sql.setLong("workAreaId", wo.getWorkAreaId());          }   } if (wo.getFlagWorkItemId() == 1) {      if (StringUtil.isBlank(wo.getWorkItemId())) {             sql.append(" and WORK_ITEM_ID is null ");          }      else{             sql.append(" and WORK_ITEM_ID=:workItemId");             sql.setLong("workItemId", wo.getWorkItemId());          }   } if (wo.getFlagWorkMode() == 1) {      if (StringUtil.isBlank(wo.getWorkMode())) {             sql.append(" and WORK_MODE is null ");          }      else{             sql.append(" and WORK_MODE=:workMode");             sql.setString("workMode", wo.getWorkMode());          }   } if (wo.getFlagWoNbr() == 1) {      if (StringUtil.isBlank(wo.getWoNbr())) {             sql.append(" and WO_NBR is null ");          }      else{             sql.append(" and WO_NBR=:woNbr");             sql.setLong("woNbr", wo.getWoNbr());          }   } if (wo.getFlagWoStaffId() == 1) {      if (StringUtil.isBlank(wo.getWoStaffId())) {             sql.append(" and WO_STAFF_ID is null ");          }      else{             sql.append(" and WO_STAFF_ID=:woStaffId");             sql.setLong("woStaffId", wo.getWoStaffId());          }   } if (wo.getFlagWoStaffName() == 1) {      if (StringUtil.isBlank(wo.getWoStaffName())) {             sql.append(" and WO_STAFF_NAME is null ");          }      else{             sql.append(" and WO_STAFF_NAME=:woStaffName");             sql.setString("woStaffName", wo.getWoStaffName());          }   } if (wo.getFlagWoType() == 1) {      if (StringUtil.isBlank(wo.getWoType())) {             sql.append(" and WO_TYPE is null ");          }      else{             sql.append(" and WO_TYPE=:woType");             sql.setString("woType", wo.getWoType());          }   }            conn = ConnectionFactory.getConnection();           ps = conn.prepareStatement(sql.getSql());           ps = sql.fillParams(ps);           sql.log(this.getClass());           rs = ps.executeQuery();                    while (rs.next()) {           wo = new WoSVO();           wo.setAccNbr(rs.getString("ACC_NBR"));           wo.setActType(rs.getString("ACT_TYPE"));           wo.setAddrAreaId(rs.getString("ADDR_AREA_ID"));           wo.setAddrLocalNetId(rs.getString("ADDR_LOCAL_NET_ID"));           wo.setAlarmDate(rs.getTimestamp("ALARM_DATE"));           wo.setAreaId(rs.getString("AREA_ID"));           wo.setArFlag(rs.getString("AR_FLAG"));           wo.setAsgnDate(rs.getTimestamp("ASGN_DATE"));           wo.setAzFlag(rs.getString("AZ_FLAG"));           wo.setBookedFlag(rs.getString("BOOKED_FLAG"));           wo.setBookFlag(rs.getString("BOOK_FLAG"));           wo.setBranchId(rs.getString("BRANCH_ID"));           wo.setBusiSts(rs.getString("BUSI_STS"));           wo.setBusiStsDate(rs.getTimestamp("BUSI_STS_DATE"));           wo.setCollabWoNbr(rs.getString("COLLAB_WO_NBR"));           wo.setComplDate(rs.getTimestamp("COMPL_DATE"));           wo.setDealFlag(rs.getString("DEAL_FLAG"));           wo.setDoTime(rs.getString("DO_TIME"));           wo.setDynFlag(rs.getString("DYN_FLAG"));           wo.setExchId(rs.getString("EXCH_ID"));           wo.setFailReasonId(rs.getString("FAIL_REASON_ID"));           wo.setFullFlag(rs.getString("FULL_FLAG"));           wo.setHalt(rs.getString("HALT"));           wo.setHaltDate(rs.getTimestamp("HALT_DATE"));           wo.setLocalNetId(rs.getString("LOCAL_NET_ID"));           wo.setMaintAreaId(rs.getString("MAINT_AREA_ID"));           wo.setMainFlag(rs.getString("MAIN_FLAG"));           wo.setMergFlag(rs.getString("MERG_FLAG"));           wo.setMtAreaName(rs.getString("MT_AREA_NAME"));           wo.setNotifyFlag(rs.getString("NOTIFY_FLAG"));           wo.setNWoNbr(rs.getString("N_WO_NBR"));           wo.setOvertimeId(rs.getString("OVERTIME_ID"));           wo.setPreAlarmDate(rs.getTimestamp("PRE_ALARM_DATE"));           wo.setPrintCount(rs.getString("PRINT_COUNT"));           wo.setPriority(rs.getString("PRIORITY"));           wo.setReasgnCount(rs.getString("REASGN_COUNT"));           wo.setRelaWoNbr(rs.getString("RELA_WO_NBR"));           wo.setRemarks(rs.getString("REMARKS"));           wo.setRtStaffId(rs.getString("RT_STAFF_ID"));           wo.setRtStaffName(rs.getString("RT_STAFF_NAME"));           wo.setRunSts(rs.getString("RUN_STS"));           wo.setRunStsDate(rs.getTimestamp("RUN_STS_DATE"));           wo.setServDeptId(rs.getString("SERV_DEPT_ID"));           wo.setServInstId(rs.getString("SERV_INST_ID"));           wo.setSoNbr(rs.getString("SO_NBR"));           wo.setStepId(rs.getString("STEP_ID"));           wo.setWorkAreaId(rs.getString("WORK_AREA_ID"));           wo.setWorkItemId(rs.getString("WORK_ITEM_ID"));           wo.setWorkMode(rs.getString("WORK_MODE"));           wo.setWoNbr(rs.getString("WO_NBR"));           wo.setWoStaffId(rs.getString("WO_STAFF_ID"));           wo.setWoStaffName(rs.getString("WO_STAFF_NAME"));           wo.setWoType(rs.getString("WO_TYPE"));               res.add(wo);                            }          } catch (SQLException se) {           throw new SysException("100003", "JDBC操作异常！", se);            } finally {                JdbcUtil.close(rs,ps);               }                         if(0 == res.size()) res = null;          return res;   } /**   * 更新的SQL。   * @return String ： 更新的SQL。  */ public void update(GenericVO vo)throws AppException, SysException {         if (vo== null) {         throw new AppException("100001", "缺少DAO操作对象！");        }       WoSVO wo=(WoSVO) vo;    if (StringUtil.isBlank(wo.getWoNbr())) {       throw new AppException("100002", "缺少对象的主键！");      }          Connection conn = null;          PreparedStatement ps = null;          Sql sql = new Sql("UPDATE WO SET ");     try {if (wo.getFlagAccNbr() == 1) {sql.append("ACC_NBR=:accNbr,"); sql.setString("accNbr", wo.getAccNbr()); } if (wo.getFlagActType() == 1) {sql.append("ACT_TYPE=:actType,"); sql.setString("actType", wo.getActType()); } if (wo.getFlagAddrAreaId() == 1) {sql.append("ADDR_AREA_ID=:addrAreaId,");sql.setLong("addrAreaId", wo.getAddrAreaId()); } if (wo.getFlagAddrLocalNetId() == 1) {sql.append("ADDR_LOCAL_NET_ID=:addrLocalNetId,");sql.setLong("addrLocalNetId", wo.getAddrLocalNetId()); } if (wo.getFlagAlarmDate() == 1) {sql.append("ALARM_DATE=:alarmDate,"); sql.setTimestamp("alarmDate", wo.getAlarmDate()); } if (wo.getFlagAreaId() == 1) {sql.append("AREA_ID=:areaId,");sql.setLong("areaId", wo.getAreaId()); } if (wo.getFlagArFlag() == 1) {sql.append("AR_FLAG=:arFlag,"); sql.setString("arFlag", wo.getArFlag()); } if (wo.getFlagAsgnDate() == 1) {sql.append("ASGN_DATE=:asgnDate,"); sql.setTimestamp("asgnDate", wo.getAsgnDate()); } if (wo.getFlagAzFlag() == 1) {sql.append("AZ_FLAG=:azFlag,"); sql.setString("azFlag", wo.getAzFlag()); } if (wo.getFlagBookedFlag() == 1) {sql.append("BOOKED_FLAG=:bookedFlag,"); sql.setString("bookedFlag", wo.getBookedFlag()); } if (wo.getFlagBookFlag() == 1) {sql.append("BOOK_FLAG=:bookFlag,"); sql.setString("bookFlag", wo.getBookFlag()); } if (wo.getFlagBranchId() == 1) {sql.append("BRANCH_ID=:branchId,");sql.setLong("branchId", wo.getBranchId()); } if (wo.getFlagBusiSts() == 1) {sql.append("BUSI_STS=:busiSts,"); sql.setString("busiSts", wo.getBusiSts()); } if (wo.getFlagBusiStsDate() == 1) {sql.append("BUSI_STS_DATE=:busiStsDate,"); sql.setTimestamp("busiStsDate", wo.getBusiStsDate()); } if (wo.getFlagCollabWoNbr() == 1) {sql.append("COLLAB_WO_NBR=:collabWoNbr,");sql.setLong("collabWoNbr", wo.getCollabWoNbr()); } if (wo.getFlagComplDate() == 1) {sql.append("COMPL_DATE=:complDate,"); sql.setTimestamp("complDate", wo.getComplDate()); } if (wo.getFlagDealFlag() == 1) {sql.append("DEAL_FLAG=:dealFlag,"); sql.setString("dealFlag", wo.getDealFlag()); } if (wo.getFlagDoTime() == 1) {sql.append("DO_TIME=:doTime,");sql.setLong("doTime", wo.getDoTime()); } if (wo.getFlagDynFlag() == 1) {sql.append("DYN_FLAG=:dynFlag,"); sql.setString("dynFlag", wo.getDynFlag()); } if (wo.getFlagExchId() == 1) {sql.append("EXCH_ID=:exchId,");sql.setLong("exchId", wo.getExchId()); } if (wo.getFlagFailReasonId() == 1) {sql.append("FAIL_REASON_ID=:failReasonId,"); sql.setString("failReasonId", wo.getFailReasonId()); } if (wo.getFlagFullFlag() == 1) {sql.append("FULL_FLAG=:fullFlag,"); sql.setString("fullFlag", wo.getFullFlag()); } if (wo.getFlagHalt() == 1) {sql.append("HALT=:halt,"); sql.setString("halt", wo.getHalt()); } if (wo.getFlagHaltDate() == 1) {sql.append("HALT_DATE=:haltDate,"); sql.setTimestamp("haltDate", wo.getHaltDate()); } if (wo.getFlagLocalNetId() == 1) {sql.append("LOCAL_NET_ID=:localNetId,");sql.setLong("localNetId", wo.getLocalNetId()); } if (wo.getFlagMaintAreaId() == 1) {sql.append("MAINT_AREA_ID=:maintAreaId,");sql.setLong("maintAreaId", wo.getMaintAreaId()); } if (wo.getFlagMainFlag() == 1) {sql.append("MAIN_FLAG=:mainFlag,"); sql.setString("mainFlag", wo.getMainFlag()); } if (wo.getFlagMergFlag() == 1) {sql.append("MERG_FLAG=:mergFlag,"); sql.setString("mergFlag", wo.getMergFlag()); } if (wo.getFlagMtAreaName() == 1) {sql.append("MT_AREA_NAME=:mtAreaName,"); sql.setString("mtAreaName", wo.getMtAreaName()); } if (wo.getFlagNotifyFlag() == 1) {sql.append("NOTIFY_FLAG=:notifyFlag,"); sql.setString("notifyFlag", wo.getNotifyFlag()); } if (wo.getFlagNWoNbr() == 1) {sql.append("N_WO_NBR=:nWoNbr,"); sql.setString("nWoNbr", wo.getNWoNbr()); } if (wo.getFlagOvertimeId() == 1) {sql.append("OVERTIME_ID=:overtimeId,"); sql.setString("overtimeId", wo.getOvertimeId()); } if (wo.getFlagPreAlarmDate() == 1) {sql.append("PRE_ALARM_DATE=:preAlarmDate,"); sql.setTimestamp("preAlarmDate", wo.getPreAlarmDate()); } if (wo.getFlagPrintCount() == 1) {sql.append("PRINT_COUNT=:printCount,");sql.setLong("printCount", wo.getPrintCount()); } if (wo.getFlagPriority() == 1) {sql.append("PRIORITY=:priority,"); sql.setString("priority", wo.getPriority()); } if (wo.getFlagReasgnCount() == 1) {sql.append("REASGN_COUNT=:reasgnCount,");sql.setLong("reasgnCount", wo.getReasgnCount()); } if (wo.getFlagRelaWoNbr() == 1) {sql.append("RELA_WO_NBR=:relaWoNbr,");sql.setLong("relaWoNbr", wo.getRelaWoNbr()); } if (wo.getFlagRemarks() == 1) {sql.append("REMARKS=:remarks,"); sql.setString("remarks", wo.getRemarks()); } if (wo.getFlagRtStaffId() == 1) {sql.append("RT_STAFF_ID=:rtStaffId,");sql.setLong("rtStaffId", wo.getRtStaffId()); } if (wo.getFlagRtStaffName() == 1) {sql.append("RT_STAFF_NAME=:rtStaffName,"); sql.setString("rtStaffName", wo.getRtStaffName()); } if (wo.getFlagRunSts() == 1) {sql.append("RUN_STS=:runSts,"); sql.setString("runSts", wo.getRunSts()); } if (wo.getFlagRunStsDate() == 1) {sql.append("RUN_STS_DATE=:runStsDate,"); sql.setTimestamp("runStsDate", wo.getRunStsDate()); } if (wo.getFlagServDeptId() == 1) {sql.append("SERV_DEPT_ID=:servDeptId,");sql.setLong("servDeptId", wo.getServDeptId()); } if (wo.getFlagServInstId() == 1) {sql.append("SERV_INST_ID=:servInstId,");sql.setLong("servInstId", wo.getServInstId()); } if (wo.getFlagSoNbr() == 1) {sql.append("SO_NBR=:soNbr,"); sql.setString("soNbr", wo.getSoNbr()); } if (wo.getFlagStepId() == 1) {sql.append("STEP_ID=:stepId,"); sql.setString("stepId", wo.getStepId()); } if (wo.getFlagWorkAreaId() == 1) {sql.append("WORK_AREA_ID=:workAreaId,");sql.setLong("workAreaId", wo.getWorkAreaId()); } if (wo.getFlagWorkItemId() == 1) {sql.append("WORK_ITEM_ID=:workItemId,");sql.setLong("workItemId", wo.getWorkItemId()); } if (wo.getFlagWorkMode() == 1) {sql.append("WORK_MODE=:workMode,"); sql.setString("workMode", wo.getWorkMode()); } if (wo.getFlagWoStaffId() == 1) {sql.append("WO_STAFF_ID=:woStaffId,");sql.setLong("woStaffId", wo.getWoStaffId()); } if (wo.getFlagWoStaffName() == 1) {sql.append("WO_STAFF_NAME=:woStaffName,"); sql.setString("woStaffName", wo.getWoStaffName()); } if (wo.getFlagWoType() == 1) {sql.append("WO_TYPE=:woType,"); sql.setString("woType", wo.getWoType()); }            	sql.removeSuffix(1); sql.append(" WHERE 1=1 ");sql.append(" and WO_NBR=:woNbr");sql.setLong("woNbr", wo.getWoNbr());            conn = ConnectionFactory.getConnection();           ps = conn.prepareStatement(sql.getSql());           ps = sql.fillParams(ps);           sql.log(this.getClass());           ps.executeUpdate();                    } catch (SQLException se) {           throw new SysException("100003", "JDBC操作异常！", se);            } finally {                JdbcUtil.close(ps);               }                  } /**   * 批量增加记录。   * @return String ： 批量增加的SQL。  */ public void addBat(List list)throws AppException, SysException {     if (list == null) {     throw new AppException("100001", "缺少DAO操作对象！");           }          Connection conn = null;          PreparedStatement ps = null;Sql sql = new Sql("INSERT INTO WO(ACC_NBR,ACT_TYPE,ADDR_AREA_ID,ADDR_LOCAL_NET_ID,ALARM_DATE,AREA_ID,AR_FLAG,ASGN_DATE,AZ_FLAG,BOOKED_FLAG,BOOK_FLAG,BRANCH_ID,BUSI_STS,BUSI_STS_DATE,COLLAB_WO_NBR,COMPL_DATE,DEAL_FLAG,DO_TIME,DYN_FLAG,EXCH_ID,FAIL_REASON_ID,FULL_FLAG,HALT,HALT_DATE,LOCAL_NET_ID,MAINT_AREA_ID,MAIN_FLAG,MERG_FLAG,MT_AREA_NAME,NOTIFY_FLAG,N_WO_NBR,OVERTIME_ID,PRE_ALARM_DATE,PRINT_COUNT,PRIORITY,REASGN_COUNT,RELA_WO_NBR,REMARKS,RT_STAFF_ID,RT_STAFF_NAME,RUN_STS,RUN_STS_DATE,SERV_DEPT_ID,SERV_INST_ID,SO_NBR,STEP_ID,WORK_AREA_ID,WORK_ITEM_ID,WORK_MODE,WO_NBR,WO_STAFF_ID,WO_STAFF_NAME,WO_TYPE)");sql.append(" VALUES (:accNbr,:actType,:addrAreaId,:addrLocalNetId,:alarmDate,:areaId,:arFlag,:asgnDate,:azFlag,:bookedFlag,:bookFlag,:branchId,:busiSts,:busiStsDate,:collabWoNbr,:complDate,:dealFlag,:doTime,:dynFlag,:exchId,:failReasonId,:fullFlag,:halt,:haltDate,:localNetId,:maintAreaId,:mainFlag,:mergFlag,:mtAreaName,:notifyFlag,:nWoNbr,:overtimeId,:preAlarmDate,:printCount,:priority,:reasgnCount,:relaWoNbr,:remarks,:rtStaffId,:rtStaffName,:runSts,:runStsDate,:servDeptId,:servInstId,:soNbr,:stepId,:workAreaId,:workItemId,:workMode,:woNbr,:woStaffId,:woStaffName,:woType)");      try {           conn = ConnectionFactory.getConnection();           ps = conn.prepareStatement(sql.getSql());    for(int i=0;i<list.size();i++){       WoSVO wo=(WoSVO) list.get(i);         if (wo== null) {         throw new AppException("100001", "缺少DAO操作对象！");       }    if (StringUtil.isBlank(wo.getWoNbr())) {       throw new AppException("100002", "缺少对象的主键！");      }      if (StringUtil.isBlank(wo.getAccNbr())) {      sql.setNullString("accNbr");     } else {    sql.setString("accNbr", wo.getAccNbr());    }       if (StringUtil.isBlank(wo.getActType())) {      sql.setNullString("actType");     } else {    sql.setString("actType", wo.getActType());    }       if (StringUtil.isBlank(wo.getAddrAreaId())) {      sql.setNullLong("addrAreaId");     } else {    sql.setLong("addrAreaId", wo.getAddrAreaId());    }       if (StringUtil.isBlank(wo.getAddrLocalNetId())) {      sql.setNullLong("addrLocalNetId");     } else {    sql.setLong("addrLocalNetId", wo.getAddrLocalNetId());    }    if (wo.getAlarmDate() == null) {      sql.setNullDate("alarmDate");     } else {    sql.setTimestamp("alarmDate", wo.getAlarmDate());    }       if (StringUtil.isBlank(wo.getAreaId())) {      sql.setNullLong("areaId");     } else {    sql.setLong("areaId", wo.getAreaId());    }       if (StringUtil.isBlank(wo.getArFlag())) {      sql.setNullString("arFlag");     } else {    sql.setString("arFlag", wo.getArFlag());    }    if (wo.getAsgnDate() == null) {      sql.setNullDate("asgnDate");     } else {    sql.setTimestamp("asgnDate", wo.getAsgnDate());    }       if (StringUtil.isBlank(wo.getAzFlag())) {      sql.setNullString("azFlag");     } else {    sql.setString("azFlag", wo.getAzFlag());    }       if (StringUtil.isBlank(wo.getBookedFlag())) {      sql.setNullString("bookedFlag");     } else {    sql.setString("bookedFlag", wo.getBookedFlag());    }       if (StringUtil.isBlank(wo.getBookFlag())) {      sql.setNullString("bookFlag");     } else {    sql.setString("bookFlag", wo.getBookFlag());    }       if (StringUtil.isBlank(wo.getBranchId())) {      sql.setNullLong("branchId");     } else {    sql.setLong("branchId", wo.getBranchId());    }       if (StringUtil.isBlank(wo.getBusiSts())) {      sql.setNullString("busiSts");     } else {    sql.setString("busiSts", wo.getBusiSts());    }    if (wo.getBusiStsDate() == null) {      sql.setNullDate("busiStsDate");     } else {    sql.setTimestamp("busiStsDate", wo.getBusiStsDate());    }       if (StringUtil.isBlank(wo.getCollabWoNbr())) {      sql.setNullLong("collabWoNbr");     } else {    sql.setLong("collabWoNbr", wo.getCollabWoNbr());    }    if (wo.getComplDate() == null) {      sql.setNullDate("complDate");     } else {    sql.setTimestamp("complDate", wo.getComplDate());    }       if (StringUtil.isBlank(wo.getDealFlag())) {      sql.setNullString("dealFlag");     } else {    sql.setString("dealFlag", wo.getDealFlag());    }       if (StringUtil.isBlank(wo.getDoTime())) {      sql.setNullLong("doTime");     } else {    sql.setLong("doTime", wo.getDoTime());    }       if (StringUtil.isBlank(wo.getDynFlag())) {      sql.setNullString("dynFlag");     } else {    sql.setString("dynFlag", wo.getDynFlag());    }       if (StringUtil.isBlank(wo.getExchId())) {      sql.setNullLong("exchId");     } else {    sql.setLong("exchId", wo.getExchId());    }       if (StringUtil.isBlank(wo.getFailReasonId())) {      sql.setNullString("failReasonId");     } else {    sql.setString("failReasonId", wo.getFailReasonId());    }       if (StringUtil.isBlank(wo.getFullFlag())) {      sql.setNullString("fullFlag");     } else {    sql.setString("fullFlag", wo.getFullFlag());    }       if (StringUtil.isBlank(wo.getHalt())) {      sql.setNullString("halt");     } else {    sql.setString("halt", wo.getHalt());    }    if (wo.getHaltDate() == null) {      sql.setNullDate("haltDate");     } else {    sql.setTimestamp("haltDate", wo.getHaltDate());    }       if (StringUtil.isBlank(wo.getLocalNetId())) {      sql.setNullLong("localNetId");     } else {    sql.setLong("localNetId", wo.getLocalNetId());    }       if (StringUtil.isBlank(wo.getMaintAreaId())) {      sql.setNullLong("maintAreaId");     } else {    sql.setLong("maintAreaId", wo.getMaintAreaId());    }       if (StringUtil.isBlank(wo.getMainFlag())) {      sql.setNullString("mainFlag");     } else {    sql.setString("mainFlag", wo.getMainFlag());    }       if (StringUtil.isBlank(wo.getMergFlag())) {      sql.setNullString("mergFlag");     } else {    sql.setString("mergFlag", wo.getMergFlag());    }       if (StringUtil.isBlank(wo.getMtAreaName())) {      sql.setNullString("mtAreaName");     } else {    sql.setString("mtAreaName", wo.getMtAreaName());    }       if (StringUtil.isBlank(wo.getNotifyFlag())) {      sql.setNullString("notifyFlag");     } else {    sql.setString("notifyFlag", wo.getNotifyFlag());    }       if (StringUtil.isBlank(wo.getNWoNbr())) {      sql.setNullString("nWoNbr");     } else {    sql.setString("nWoNbr", wo.getNWoNbr());    }       if (StringUtil.isBlank(wo.getOvertimeId())) {      sql.setNullString("overtimeId");     } else {    sql.setString("overtimeId", wo.getOvertimeId());    }    if (wo.getPreAlarmDate() == null) {      sql.setNullDate("preAlarmDate");     } else {    sql.setTimestamp("preAlarmDate", wo.getPreAlarmDate());    }       if (StringUtil.isBlank(wo.getPrintCount())) {      sql.setNullLong("printCount");     } else {    sql.setLong("printCount", wo.getPrintCount());    }       if (StringUtil.isBlank(wo.getPriority())) {      sql.setNullString("priority");     } else {    sql.setString("priority", wo.getPriority());    }       if (StringUtil.isBlank(wo.getReasgnCount())) {      sql.setNullLong("reasgnCount");     } else {    sql.setLong("reasgnCount", wo.getReasgnCount());    }       if (StringUtil.isBlank(wo.getRelaWoNbr())) {      sql.setNullLong("relaWoNbr");     } else {    sql.setLong("relaWoNbr", wo.getRelaWoNbr());    }       if (StringUtil.isBlank(wo.getRemarks())) {      sql.setNullString("remarks");     } else {    sql.setString("remarks", wo.getRemarks());    }       if (StringUtil.isBlank(wo.getRtStaffId())) {      sql.setNullLong("rtStaffId");     } else {    sql.setLong("rtStaffId", wo.getRtStaffId());    }       if (StringUtil.isBlank(wo.getRtStaffName())) {      sql.setNullString("rtStaffName");     } else {    sql.setString("rtStaffName", wo.getRtStaffName());    }       if (StringUtil.isBlank(wo.getRunSts())) {      sql.setNullString("runSts");     } else {    sql.setString("runSts", wo.getRunSts());    }    if (wo.getRunStsDate() == null) {      sql.setNullDate("runStsDate");     } else {    sql.setTimestamp("runStsDate", wo.getRunStsDate());    }       if (StringUtil.isBlank(wo.getServDeptId())) {      sql.setNullLong("servDeptId");     } else {    sql.setLong("servDeptId", wo.getServDeptId());    }       if (StringUtil.isBlank(wo.getServInstId())) {      sql.setNullLong("servInstId");     } else {    sql.setLong("servInstId", wo.getServInstId());    }       if (StringUtil.isBlank(wo.getSoNbr())) {      sql.setNullString("soNbr");     } else {    sql.setString("soNbr", wo.getSoNbr());    }       if (StringUtil.isBlank(wo.getStepId())) {      sql.setNullString("stepId");     } else {    sql.setString("stepId", wo.getStepId());    }       if (StringUtil.isBlank(wo.getWorkAreaId())) {      sql.setNullLong("workAreaId");     } else {    sql.setLong("workAreaId", wo.getWorkAreaId());    }       if (StringUtil.isBlank(wo.getWorkItemId())) {      sql.setNullLong("workItemId");     } else {    sql.setLong("workItemId", wo.getWorkItemId());    }       if (StringUtil.isBlank(wo.getWorkMode())) {      sql.setNullString("workMode");     } else {    sql.setString("workMode", wo.getWorkMode());    }       if (StringUtil.isBlank(wo.getWoNbr())) {      sql.setNullLong("woNbr");     } else {    sql.setLong("woNbr", wo.getWoNbr());    }       if (StringUtil.isBlank(wo.getWoStaffId())) {      sql.setNullLong("woStaffId");     } else {    sql.setLong("woStaffId", wo.getWoStaffId());    }       if (StringUtil.isBlank(wo.getWoStaffName())) {      sql.setNullString("woStaffName");     } else {    sql.setString("woStaffName", wo.getWoStaffName());    }       if (StringUtil.isBlank(wo.getWoType())) {      sql.setNullString("woType");     } else {    sql.setString("woType", wo.getWoType());    }            sql.fillParams(ps);           sql.log(this.getClass());           sql.clearParameters();           ps.addBatch();           }                  ps.executeBatch();          } catch (SQLException se) {           throw new SysException("100003", "JDBC操作异常！", se);           } finally {                    JdbcUtil.close(ps);           }  } /**   * 根据传入参数删除一条或者一批记录。   * @return String ： 删除的SQL。  */ public void delete(GenericVO vo)throws AppException, SysException {         if (vo== null) {         throw new AppException("100001", "缺少DAO操作对象！");        }     WoSVO wo=(WoSVO) vo;    if (StringUtil.isBlank(wo.getWoNbr())) {       throw new AppException("100002", "缺少对象的主键！");      }          Connection conn = null;          PreparedStatement ps = null;       Sql sql = new Sql("DELETE FROM WO WHERE 1=1  ");sql.append(" and WO_NBR=:woNbr");sql.setLong("woNbr", wo.getWoNbr());       try {           conn = ConnectionFactory.getConnection();           ps = conn.prepareStatement(sql.getSql());           sql.fillParams(ps);           sql.log(this.getClass());           ps.executeUpdate();            } catch (SQLException se) {           throw new SysException("100003", "JDBC操作异常！", se);                      } finally {                    JdbcUtil.close(ps);           }         } /**   * 注销一条或者一批   * @return String ： 注销一条或者一批的SQL。  */ public void unable(GenericVO vo)throws AppException, SysException {     WoSVO wo=(WoSVO) vo;       }}
